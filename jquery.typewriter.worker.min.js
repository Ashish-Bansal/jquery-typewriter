function start(){if(null!==self.sInt){if(clearInterval(sInt),once===!1)return setTimeout(start,settings.waitingTime),void(once=!0);once=!1,sInt=null,eInt=setInterval(function(){var t=[];t[0]=1,postMessage(t)},settings.typeDelay)}else{clearInterval(eInt),eInt=null;var t=settings.text[Math.floor(currentStringIndex/2)];sInt=setInterval(function(){var e=[];e[0]=0,e[1]=t.charAt(currentCharIndex),postMessage(e),currentCharIndex++},settings.typeDelay)}currentCharIndex=0,setTimeout(start,settings.text[Math.floor(currentStringIndex/2)].length*settings.typeDelay+settings.typeDelay),currentStringIndex=(currentStringIndex+1)%(2*settings.text.length)}onmessage=function(t){self.currentStringIndex=0,self.currentCharIndex=0,self.settings=t.data,self.sInt=null,self.eInt=null,self.once=!1,start()};